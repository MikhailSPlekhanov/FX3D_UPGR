Что можно сделать:

Создать дескриптор
Функции дескриптора:
По набору параметров определять сколько памяти освобождать и как определять методы

Проблемы: при использовании define объекты создаются условно, и не всегда можно к ним обратиться 
Как менять: в любом случае создавать объекты, но выделять память под них только по дескриптору (просто - параметр в конструкторе Memory)

Избавиться от глобальных переменных (info, camera)

Избавиться от условного определения main()


